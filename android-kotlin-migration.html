<!DOCTYPE html><meta charset=utf-8><title>make index.html</title><meta content="" name=description><meta content="" name=author><meta content="" name=keywords><meta content="width=device-width,initial-scale=1" name=viewport><style>.storm-accent1,h1,h2,h3,h4,h5,h6{color:#494e6b}.storm-accent2,a,html{color:#98878f}.storm-accent3{color:#985e6d}.storm-accent4{color:#192231}html{color:#bbb;background:#192231;text-align:justify;hyphens:auto;font-family:Georgia,serif;hyphens:auto;text-rendering:optimizeLegibility}h1,h2,h3,h4,h5,h6{text-align:left;font-family:"Lucida Sans Unicode","Lucida Grande",sans-serif}p{text-indent:1em}code,h1+p,h2+p,h3+p{text-indent:0}blockquote>p{text-indent:-.5em}blockquote>p:before{content:'“'}blockquote>p:after{content:'”'}ul>li{list-style:none;text-indent:-2em}ul>li:before{content:'– '}pre>code{display:block;background:#000;color:#eee;line-height:1.5;border-radius:5px;padding:5px;white-space:pre;overflow-x:auto}.hemisu-bg,.hemisu-black{color:#000}.hemisu-white{color:#fff}.hemisu-almostWhite,.hemisu-norm{color:#eee}.hemisu-almostBlack,.hemisu-faint{color:#111}.hemisu-comment,.hemisu-middleDarkGrey,code>span.co{color:#777}.hemisu-dimmed,.hemisu-middleLightGrey,code>span.do{color:#999}.hemisu-lightGrey{color:#bbb}.hemisu-darkGrey,.hemisu-subtle{color:#444}.hemisu-darkPink,.hemisu-faintRed,code>span.al,code>span.er,code>span.wa{color:#63001c}.hemisu-middleDarkPink{color:#f05}.hemisu-middleLightPink,.hemisu-normRed{color:#d65e76}.hemisu-lightPink{color:#ffafaf}.hemisu-darkBlue,.hemisu-faintBlue{color:#005f87}.hemisu-middleDarkBlue{color:#538192}.hemisu-accent1,.hemisu-middleLightBlue,.hemisu-normBlue,code>span.bn,code>span.cn,code>span.dv,code>span.fl,code>span.pp{color:#9fd3e6}.hemisu-lightBlue{color:#cbe4ee}.hemisu-darkGreen,.hemisu-faintGreen{color:#5f5f00}.hemisu-middleDarkGreen{color:#739200}.hemisu-accent2,.hemisu-middleLightGreen,.hemisu-normGreen,code>span.ch,code>span.im,code>span.sc,code>span.ss,code>span.st,code>span.vs{color:#b1d631}.hemisu-accent3,.hemisu-lightGreen,code>span.cf,code>span.dt,code>span.kw,code>span.ot{color:#bfa}.hemisu-darkTan{color:#503d15}.hemisu-accent4,.hemisu-lightTan{color:#ece1c8}code,pre{font-family:"Lucida Console",Monaco,courier,monospace}blockquote{font-style:italic}</style><h1 id=manually-migrating-an-android-project-to-kotlin>Manually migrating an Android project to Kotlin</h1><p>Kotlin is now officialy part of the Android SDK<a href=#fn1 class=footnoteRef id=fnref1><sup>1</sup></a>, and as such I wanted to give it another try. There are of course tutorials out there<a href=#fn2 class=footnoteRef id=fnref2><sup>2</sup></a>, but they all aim users of Android Studio. Let's see how we can do without.<p>First things first, let's add Kotlin to our build script. We need to add to the <code>build.gradle</code> of our application three things:<ul><li>the repository where Kotlin is found,<li>the dependency to the build tools for Kotlin,<li>the runtime dependencies for our project.</ul><div class=sourceCode><pre class="sourceCode diff"><code class="sourceCode diff">buildscript {
<span class=va>+    repositories {</span>
<span class=va>+        jcenter()</span>
<span class=va>+        mavenCentral()</span>
<span class=va>+    }</span>
<span class=va>+    dependencies {</span>
<span class=va>+        classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:1.1.2"</span>
<span class=va>+    }</span>
<span class=va>+}</span>
<span class=va>+</span>
 apply plugin: 'com.android.application'
<span class=va>+apply plugin: 'kotlin-android'</span>
<span class=va>+apply plugin: 'kotlin-android-extensions'</span></code></pre></div><div class=sourceCode><pre class="sourceCode diff"><code class="sourceCode diff"> dependencies {
     compile fileTree(dir: 'libs', include: ['*.jar'])
     compile 'com.android.support:design:23.1.1'
<span class=va>+</span>
<span class=va>+    compile 'org.jetbrains.kotlin:kotlin-stdlib:1.1.2'</span>
<span class=va>+    testCompile 'org.jetbrains.kotlin:kotlin-stdlib:1.1.2'</span>
 }</code></pre></div><p>If we run our <code>gradlew</code> script, we can see that it is installing the Kotlkin toolchain, but that no Kotlin code is built. Of course, because there are none yet.<p>Kotlin developers provide an online Java-to-Kotlkin transpiler<a href=#fn3 class=footnoteRef id=fnref3><sup>3</sup></a>. It is far from perfect, but it is enough for beginers with an existing Java project. In our application source directory, we create the same architecture where we replace <code>src/main/java/&lt;package></code> with <code>src/main/kotlin/&lt;package></code>. We transpile all the <code>.java</code> files to <code>.kt</code> and we run again our <code>gradlew</code> script.<p>Voilà.<section class=footnotes><hr><ol><li id=fn1><p><a href=https://developer.android.com/kotlin/index.html>Kotlin and Android</a><a href=#fnref1>↩</a><li id=fn2><p><a href=https://kotlinlang.org/docs/tutorials/kotlin-android.html class=uri>https://kotlinlang.org/docs/tutorials/kotlin-android.html</a><a href=#fnref2>↩</a><li id=fn3><p><a href=https://try.kotlinlang.org/ >Try Kotlin</a><a href=#fnref3>↩</a></ol></section>